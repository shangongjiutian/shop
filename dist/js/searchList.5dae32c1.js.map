{"version":3,"file":"js/searchList.5dae32c1.js","mappings":"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","sources":["webpack://shop/./src/components/ShopInfo.vue","webpack://shop/./src/components/ShopInfo.vue?3071","webpack://shop/./src/views/searchList/SearchList.vue","webpack://shop/./src/views/searchList/SearchList.vue?996c"],"sourcesContent":["<template>\r\n    <div class=\"shop\">\r\n        <img class=\"shop__img\" :src=\"item.imgUrl\" />\r\n        <div :class=\"{'shop__content': true, 'shop__content--bordered': hideBorder ? false: true}\">\r\n        <div class=\"shop__content__title\">{{item.name}}</div>\r\n        <div class=\"shop__content__tags\">\r\n            <span class=\"shop__content__tag\">月售{{ item.sales }}</span>\r\n            <span class=\"shop__content__tag\">起送￥{{ item.expressLimit }}</span>\r\n            <span class=\"shop__content__tag\">基础运费￥{{ item.expressPrice }}</span>\r\n        </div>\r\n        <p class=\"shop__content__highlight\">{{item.slogan}}</p>\r\n        <div class=\"shop__products\" v-if=\"item.products\">\r\n          <div class=\"product\" v-for=\"product in item.products\" :key=\"product.name\">\r\n            <img class=\"product__img\" :src=\"product.imgUrl\" />\r\n            <p class=\"product__title\">{{ product.name }}</p>\r\n            <p class=\"product__price\">\r\n              <span class=\"product__price__yen\">&yen;</span>\r\n              {{ product.price }}\r\n              <span class=\"product__price__old\">{{ product.oldPrice }}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'ShopInfo',\r\n  props: ['item', 'hideBorder']\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../style/viriables.scss';\r\n@import '../style/mixin.scss';\r\n.shop {\r\n    display: flex;\r\n    padding:.12rem 0 0 0;\r\n    &__img {\r\n      margin-right:.16rem;\r\n      width:.56rem;\r\n      height: .56rem;\r\n    }\r\n    &__content {\r\n    flex:1;\r\n    &--bordered {\r\n      border-bottom:.01rem solid $content-bgcolor;\r\n    }\r\n    &__title {\r\n      line-height: .22rem;\r\n      font-size:.16rem;\r\n      color: $content-fontcolor;\r\n    }\r\n    &__tags {\r\n      margin-top:.08rem;\r\n      line-height:.18rem;\r\n      font-size:.13rem;\r\n      color: $content-fontcolor;\r\n    }\r\n    &__tag {\r\n      margin-right:.16rem;\r\n    }\r\n    &__highlight {\r\n      margin-top:.08rem;\r\n      color:#E93B3B\r\n    }\r\n  }\r\n  &__products {\r\n    display: flex;\r\n    .product {\r\n      margin-right:.1rem;\r\n      overflow: hidden;\r\n      width:.76rem;\r\n      &__img {\r\n        width:.76rem;\r\n        height:.76rem;\r\n      }\r\n      &__title {\r\n        margin:0;\r\n        font-size:.12rem;\r\n        color: #333;\r\n        line-height: .24rem;\r\n        @include ellipses\r\n      }\r\n      &__price {\r\n        margin:0;\r\n        color:#E93B3B;\r\n        font-size:.14rem;\r\n        display: flex;\r\n        line-height: .36rem;\r\n        overflow: hidden;\r\n        &__yen {\r\n          display: inline-block;\r\n          font-size:.2rem;\r\n          transform:scale(.5);\r\n          transform-origin: right center;\r\n        }\r\n        &__old {\r\n          display: inline-block;\r\n          margin-left:.05rem;\r\n          color: #999;\r\n          transform:scale(.5);\r\n          transform-origin: left center;\r\n          font-size:.2rem;\r\n          text-decoration: line-through;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n }\r\n</style>\r\n","import { render } from \"./ShopInfo.vue?vue&type=template&id=29f0384e&scoped=true\"\nimport script from \"./ShopInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ShopInfo.vue?vue&type=script&lang=js\"\n\nimport \"./ShopInfo.vue?vue&type=style&index=0&id=29f0384e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-29f0384e\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"wapper\">\r\n        <div class=\"search\">\r\n            <div class=\"search__back iconfont\" @click=\"handleBackClick\">&#xe6db;</div>\r\n            <div class=\"search__content\">\r\n                <span class=\"search__content__icon iconfont\">&#xe615;</span>\r\n                <input class=\"search__content__input\" placeholder=\"请输入商品名称\" v-model=\"keyword\" @change=\"handleSearchInputChange\" />\r\n            </div>\r\n        </div>\r\n        <router-link v-for=\"item in searchList\" :key=\"item._id\" :to=\"`/shop/${item._id}`\"><ShopInfo :item=\"item\"/></router-link>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ref } from 'vue'\r\nimport { get } from '../../utils/request'\r\nimport ShopInfo from '../../components/ShopInfo'\r\nconst handleBackClickEffect = () => {\r\n  const router = useRouter()\r\n  const handleBackClick = () => {\r\n    router.back()\r\n  }\r\n  return { handleBackClick }\r\n}\r\nconst useSearchListEffect = () => {\r\n  const searchList = ref([])\r\n  const getSearchList = async (keyword) => {\r\n    const result = await get('/api/shop/search', { keyword })\r\n    if (result?.errno === 0 && result?.data?.length) {\r\n      searchList.value = result.data\r\n    }\r\n  }\r\n  return { searchList, getSearchList }\r\n}\r\nexport default {\r\n  name: 'SearchList',\r\n  components: { ShopInfo },\r\n  setup () {\r\n    const route = useRoute()\r\n    const keyword = ref(route.query.keyword || '')\r\n    const handleSearchInputChange = () => {\r\n      getSearchList(keyword.value)\r\n      // console.log(keyword.value)\r\n    }\r\n\r\n    const { searchList, getSearchList } = useSearchListEffect()\r\n    const handleBackClick = handleBackClickEffect()\r\n    getSearchList(keyword.value)\r\n    return { handleBackClick, keyword, handleSearchInputChange, searchList }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wapper {\r\n    margin:0 .18rem;\r\n}\r\na {\r\n  text-decoration: none;\r\n}\r\n.search {\r\n  margin:.14rem 0 .04rem 0;\r\n  display: flex;\r\n  height:.32rem;\r\n  &__back {\r\n    width:.3rem;\r\n    line-height: .32rem;\r\n    font-size:.24rem;\r\n    color:#b6b6b6;\r\n  }\r\n  &__content {\r\n    flex: 1;\r\n    display: flex;\r\n    line-height: .32rem;\r\n    border-radius:.16rem;\r\n    background: $search-bgcolor;\r\n    &__icon {\r\n      width:.44rem;\r\n      height: .32rem;\r\n      text-align: center;\r\n      color:#b6b6b6;\r\n      font-size:.14rem;\r\n    }\r\n    &__input {\r\n      height: .32rem;\r\n      border: none;\r\n      outline: none;\r\n      background: none;\r\n      padding-right:.2rem;\r\n      width:100%;\r\n      color:$content-fontcolor;\r\n      &::placeholder {\r\n        color:#999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./SearchList.vue?vue&type=template&id=cd9272f8&scoped=true\"\nimport script from \"./SearchList.vue?vue&type=script&lang=js\"\nexport * from \"./SearchList.vue?vue&type=script&lang=js\"\n\nimport \"./SearchList.vue?vue&type=style&index=0&id=cd9272f8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cd9272f8\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","src","$props","item","imgUrl","_normalizeClass","hideBorder","_hoisted_3","_toDisplayString","name","_hoisted_4","_hoisted_5","sales","_hoisted_6","expressLimit","_hoisted_7","expressPrice","_hoisted_8","slogan","products","_hoisted_9","_Fragment","_renderList","product","key","_hoisted_11","_hoisted_12","_hoisted_13","price","_hoisted_14","oldPrice","props","__exports__","render","_hoisted_2","onClick","_cache","args","$setup","handleBackClick","placeholder","keyword","$event","onChange","handleSearchInputChange","searchList","_createBlock","_component_router_link","_id","to","_createVNode","_component_ShopInfo","handleBackClickEffect","router","useRouter","back","useSearchListEffect","ref","getSearchList","async","result","get","errno","data","length","value","components","ShopInfo","setup","route","useRoute","query"],"sourceRoot":""}