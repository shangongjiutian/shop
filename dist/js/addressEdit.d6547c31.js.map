{"version":3,"file":"js/addressEdit.d6547c31.js","mappings":"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","sources":["webpack://shop/./src/components/Toast.vue","webpack://shop/./src/components/Toast.vue?44c7","webpack://shop/./src/views/addressEdit/AddressEdit.vue","webpack://shop/./src/views/addressEdit/AddressEdit.vue?b330"],"sourcesContent":["<template>\r\n    <div class=\"toast\">{{message}}</div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nexport default {\r\n  name: 'Toast',\r\n  props: ['message']\r\n}\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({ show: false, toastMessage: '', showClass: '' })\r\n  const showToast = (message) => {\r\n    toastData.show = TextTrackCueList\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessage = ''\r\n    }, 2000)\r\n  }\r\n  const { show, toastMessage } = toRefs(toastData)\r\n  return { toastMessage, showToast, show }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.toast {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    background: rgba(0,0,0,.6);\r\n    border-radius:.05rem;\r\n    padding:.1rem;\r\n    color:#fff;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=7d38c1a6&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=7d38c1a6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d38c1a6\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"wapper\">\r\n        <div class=\"title\">\r\n            <span class=\"back iconfont\" @click=\"handleBackClick\">&#xe6db;</span>\r\n            {{isEdit ? '编辑' : '新增'}}收货地址\r\n            <span class=\"add\" @click=\"handleSaveClick\">保存</span>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"content__item\">\r\n            <span class=\"content__item__label\">所在城市：</span>\r\n            <input class=\"content__item__input\" placeholder=\"如北京市\" v-model=\"city\" />\r\n        </div>\r\n        <div class=\"content__item\">\r\n            <span class=\"content__item__label\">小区/大厦/学校：</span>\r\n            <input class=\"content__item__input\" placeholder=\"如理工大学国防科技园\" v-model=\"department\" />\r\n        </div>\r\n        <div class=\"content__item\">\r\n            <span class=\"content__item__label\">楼号-门牌号：</span>\r\n            <input class=\"content__item__input\" placeholder=\"A号楼B层\" v-model=\"houseNumber\" />\r\n        </div>\r\n        <div class=\"content__item\">\r\n            <span class=\"content__item__label\">收货人：</span>\r\n            <input class=\"content__item__input\" placeholder=\"请填写收货人的姓名\" v-model=\"name\" />\r\n        </div>\r\n        <div class=\"content__item\">\r\n            <span class=\"content__item__label\">联系电话：</span>\r\n            <input class=\"content__item__input\" placeholder=\"请填写收货手机号\" v-model=\"phone\" />\r\n        </div>\r\n      </div>\r\n      <Toast v-if=\"show\" :message=\"toastMessage\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { onBeforeMount, ref } from 'vue'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\nimport { post } from '../../utils/request'\r\nexport default {\r\n  name: 'AddressEdit',\r\n  components: { Toast },\r\n  setup () {\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const handleBackClick = () => {\r\n      router.back()\r\n    }\r\n    const city = ref('')\r\n    const department = ref('')\r\n    const houseNumber = ref('')\r\n    const name = ref('')\r\n    const phone = ref('')\r\n    const id = route.query.id\r\n    onBeforeMount(async () => {\r\n      if (id) {\r\n        const result = await post(`/api/user/address/${id}`)\r\n        if (result?.errno === 0) {\r\n          const data = result.data\r\n          city.value = data.city\r\n          department.value = data.department\r\n          houseNumber.value = data.houseNumber\r\n          name.value = data.name\r\n          phone.value = data.phone\r\n          // console.log(result)\r\n        }\r\n        // console.log(result)\r\n      }\r\n    })\r\n    const handleSaveClick = async () => {\r\n      if (!city.value || !department.value || !houseNumber.value || !name.value || !phone.value) {\r\n        showToast('所有内容必填')\r\n      } else {\r\n        if (id) {\r\n          const result = await post(`/api/user/address/${id}`, { city: city.value, department: department.value, houseNumber: houseNumber.value, name: name.value, phone: phone.value })\r\n          if (result?.errno === 0) {\r\n            router.back()\r\n          }\r\n        } else {\r\n          const result = await post('/api/user/address', { city: city.value, department: department.value, houseNumber: houseNumber.value, name: name.value, phone: phone.value })\r\n          if (result?.errno === 0) {\r\n            router.back()\r\n          }\r\n        }\r\n      }\r\n    }\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    return { city, department, houseNumber, name, phone, handleBackClick, handleSaveClick, show, toastMessage, showToast, isEdit: !!id }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.wapper {\r\n  position: absolute;\r\n  right:0; top:0; bottom:0; left:0;\r\n  overflow-y: scroll;\r\n  background: #f5f5f5;\r\n}\r\n.title {\r\n  height:.44rem;\r\n  background: #fff;\r\n  font-size:.16rem;\r\n  color: #333;\r\n  line-height: .44rem;\r\n  text-align:center;\r\n  padding:0 .2rem;\r\n  position: relative;\r\n  .back {\r\n    font-size:.22rem;\r\n    color:#b6b6b6;\r\n    position: absolute;\r\n    left:.16rem;\r\n  }\r\n  a {color:#333;}\r\n  .add {\r\n    font-size:.14rem;\r\n    right:.2rem;\r\n    position: absolute;\r\n  }\r\n}\r\n.content {\r\n    background: #fff;\r\n    margin-top:.12rem;\r\n    padding:0 .18rem;\r\n    &__item {\r\n        line-height: .44rem;\r\n        height: .44rem;\r\n        overflow: hidden;\r\n        border-bottom:.01rem solid #f1f1f1;\r\n        display: flex;\r\n        &__label {\r\n            color:#666;\r\n            font-size:.14rem;\r\n        }\r\n        &__input {\r\n            border:none;\r\n            outline: none;\r\n            font-size:.14rem;\r\n            width:100%;\r\n            flex:1;\r\n        }\r\n        ::placeholder {\r\n            color: #999;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./AddressEdit.vue?vue&type=template&id=db7f1570&scoped=true\"\nimport script from \"./AddressEdit.vue?vue&type=script&lang=js\"\nexport * from \"./AddressEdit.vue?vue&type=script&lang=js\"\n\nimport \"./AddressEdit.vue?vue&type=style&index=0&id=db7f1570&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-db7f1570\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","name","props","useToastEffect","toastData","reactive","show","toastMessage","showClass","showToast","TextTrackCueList","setTimeout","toRefs","__exports__","render","_createElementVNode","_hoisted_2","onClick","_cache","args","$setup","handleBackClick","isEdit","handleSaveClick","_hoisted_3","_hoisted_4","_hoisted_5","placeholder","city","$event","_hoisted_6","_hoisted_7","department","_hoisted_8","_hoisted_9","houseNumber","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","phone","_createBlock","_component_Toast","components","Toast","setup","router","useRouter","route","useRoute","back","ref","id","query","onBeforeMount","async","result","post","errno","data","value"],"sourceRoot":""}