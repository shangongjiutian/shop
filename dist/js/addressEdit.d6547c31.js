"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[779],{9168:function(e,a,t){t.d(a,{Z:function(){return d},S:function(){return u}});var s=t(6252),n=t(3577);const o={class:"toast"};function l(e,a,t,l,c,i){return(0,s.wg)(),(0,s.iD)("div",o,(0,n.zw)(t.message),1)}var c=t(2262),i={name:"Toast",props:["message"]};const u=()=>{const e=(0,c.qj)({show:!1,toastMessage:"",showClass:""}),a=a=>{e.show=TextTrackCueList,e.toastMessage=a,setTimeout((()=>{e.show=!1,e.toastMessage=""}),2e3)},{show:t,toastMessage:s}=(0,c.BK)(e);return{toastMessage:s,showToast:a,show:t}};var _=t(3744);const r=(0,_.Z)(i,[["render",l],["__scopeId","data-v-7d38c1a6"]]);var d=r},1628:function(e,a,t){t.r(a),t.d(a,{default:function(){return B}});var s=t(6252),n=t(3577),o=t(9963);const l=e=>((0,s.dD)("data-v-db7f1570"),e=e(),(0,s.Cn)(),e),c={class:"wapper"},i={class:"title"},u={class:"content"},_={class:"content__item"},r=l((()=>(0,s._)("span",{class:"content__item__label"},"所在城市：",-1))),d={class:"content__item"},p=l((()=>(0,s._)("span",{class:"content__item__label"},"小区/大厦/学校：",-1))),m={class:"content__item"},v=l((()=>(0,s._)("span",{class:"content__item__label"},"楼号-门牌号：",-1))),h={class:"content__item"},w=l((()=>(0,s._)("span",{class:"content__item__label"},"收货人：",-1))),k={class:"content__item"},b=l((()=>(0,s._)("span",{class:"content__item__label"},"联系电话：",-1)));function f(e,a,t,l,f,y){const g=(0,s.up)("Toast");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",i,[(0,s._)("span",{class:"back iconfont",onClick:a[0]||(a[0]=(...e)=>l.handleBackClick&&l.handleBackClick(...e))},""),(0,s.Uk)(" "+(0,n.zw)(l.isEdit?"编辑":"新增")+"收货地址 ",1),(0,s._)("span",{class:"add",onClick:a[1]||(a[1]=(...e)=>l.handleSaveClick&&l.handleSaveClick(...e))},"保存")]),(0,s._)("div",u,[(0,s._)("div",_,[r,(0,s.wy)((0,s._)("input",{class:"content__item__input",placeholder:"如北京市","onUpdate:modelValue":a[2]||(a[2]=e=>l.city=e)},null,512),[[o.nr,l.city]])]),(0,s._)("div",d,[p,(0,s.wy)((0,s._)("input",{class:"content__item__input",placeholder:"如理工大学国防科技园","onUpdate:modelValue":a[3]||(a[3]=e=>l.department=e)},null,512),[[o.nr,l.department]])]),(0,s._)("div",m,[v,(0,s.wy)((0,s._)("input",{class:"content__item__input",placeholder:"A号楼B层","onUpdate:modelValue":a[4]||(a[4]=e=>l.houseNumber=e)},null,512),[[o.nr,l.houseNumber]])]),(0,s._)("div",h,[w,(0,s.wy)((0,s._)("input",{class:"content__item__input",placeholder:"请填写收货人的姓名","onUpdate:modelValue":a[5]||(a[5]=e=>l.name=e)},null,512),[[o.nr,l.name]])]),(0,s._)("div",k,[b,(0,s.wy)((0,s._)("input",{class:"content__item__input",placeholder:"请填写收货手机号","onUpdate:modelValue":a[6]||(a[6]=e=>l.phone=e)},null,512),[[o.nr,l.phone]])])]),l.show?((0,s.wg)(),(0,s.j4)(g,{key:0,message:l.toastMessage},null,8,["message"])):(0,s.kq)("",!0)])}var y=t(2201),g=t(2262),C=t(9168),T=t(1117),M={name:"AddressEdit",components:{Toast:C.Z},setup(){const e=(0,y.tv)(),a=(0,y.yj)(),t=()=>{e.back()},n=(0,g.iH)(""),o=(0,g.iH)(""),l=(0,g.iH)(""),c=(0,g.iH)(""),i=(0,g.iH)(""),u=a.query.id;(0,s.wF)((async()=>{if(u){const e=await(0,T.v)(`/api/user/address/${u}`);if(0===e?.errno){const a=e.data;n.value=a.city,o.value=a.department,l.value=a.houseNumber,c.value=a.name,i.value=a.phone}}}));const _=async()=>{if(n.value&&o.value&&l.value&&c.value&&i.value)if(u){const a=await(0,T.v)(`/api/user/address/${u}`,{city:n.value,department:o.value,houseNumber:l.value,name:c.value,phone:i.value});0===a?.errno&&e.back()}else{const a=await(0,T.v)("/api/user/address",{city:n.value,department:o.value,houseNumber:l.value,name:c.value,phone:i.value});0===a?.errno&&e.back()}else p("所有内容必填")},{show:r,toastMessage:d,showToast:p}=(0,C.S)();return{city:n,department:o,houseNumber:l,name:c,phone:i,handleBackClick:t,handleSaveClick:_,show:r,toastMessage:d,showToast:p,isEdit:!!u}}},N=t(3744);const U=(0,N.Z)(M,[["render",f],["__scopeId","data-v-db7f1570"]]);var B=U}}]);
//# sourceMappingURL=addressEdit.d6547c31.js.map